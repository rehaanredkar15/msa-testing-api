{
    "swagger": "2.0",
    "info": {
      "version": "1.0.0",
      "title": "Connect Masjid Client API ",
      "description": "This docs contains the connect masjid client api",
      "license": {
        "name": "MIT",
        "url": "https://opensource.org/licenses/MIT"
      }
    },
    "host": "msa-testing-app.herokuapp.com",
    "basePath": "/",
    "tags": [
      {
        "name": "Client App",
        "description": "API for client app in the system"
      }
    ],
    "schemes": ["https"],
    "consumes": ["application/json"],
    "produces": ["application/json"],
    "definitions": {

        "Masjid":{
            "required":[
                "masjidName",
                "masjidPhotos",
                "description",
                "contact",
                "location",
                "address",
                "id",
                "updatedAt",
                "lastEditor",
                "country"
            ],
            "properties":{

                "masjidName":{
                    "type": "string",
                    "description": "Name should be unique and will trim spaces which are after the name. ",
                    "minLength": 5,   
                    "maxLength": 20,
                    "example": "Jumma Masjid"
                  },
                "masjidPhotos":{
                    "type": "array",
                    "items":{
                        "type": "string",
                        "format": "url",
                        "example": "https://smile-app.s3.ap-south-1.amazonaws.com/image-1643616353651.jpeg"
                     },
                     "//comment":  "The masjidPhotos can  be empty array also."
                    },
            
                    "masjidProfilePhoto":{
                    "type": "string",
                    "format": "url",
                    "example": "https://smile-app.s3.ap-south-1.amazonaws.com/image-1643616353651.jpeg",
                    "//comment":  "The masjidProfilePhoto can  be empty string also."
                   },
                    "description":{
                        "type": "string",
                        "example": "Big, elaborate mosque made from stone & brick in the 1800s, featuring a courtyard pool with fish.",
                        "//comment":  "The description can  be empty string also."
                    },
                    "address":{ 
                        "type": "string",
                        "example": "Imamwada Road, Mumbai, Maharashtra",
                        "//comment":  "The array can  be empty string also."
                    },
                    "contact":{
                        "type": "string",
                        "example": "+91 9168549326",
                        "//comment":  "The contact can  be empty string also."
                    },
                    "country":{
                        "type": "string",
                        "example": "United States",
                        "//comment":  "The country can  be empty string also."
                    },
                    "lastEditor":{
                        "type": "string",
                        "example": "Rehaan Redkar",
                        "//comment":  "The last Editor can  be empty string also."
                    },
                    "updatedAt":{
                        "type": "string",
                        "example": "2022-10-10T09:39:53.968Z" ,
                        "//comment":  "The last Editor can  be empty string also." 
                    },
                    "id": {
                        "type": "string",
                        "example": "6310bd9613877d3b6f6490e3",
                        "//comment":  "The id can  be empty string also."
                    },
                    "location":{
                        "properties":{
                            "type":{
                                "type": "string",
                                "default": "Point",
                                "coordinates":{
                                    "type": "array",
                                    "items":{
                                        "type": "integer",
                                        "format": "double",
                                        "example": "[72.83336,18.95938]",
                                        "//comment":  "The first parameter here is longitude and second parameter is latitude."
                                      }
                                    }
                                }
                        
                            }
                        }
                }
          },
            "Coordinates": {
              "required": [
                "coordinates"
              ],
              "properties": {
                "coordinates": {
                  "type": "array",
                  "example":[
                    -97.13392071108218,32.95635810891399
                  ],
                  "items": {
                    "type": "integer",
                    "format": "double",
                    "//comment":  "The first parameter here is longitude and second parameter is latitude."
                  }
                  
                },
                "distance": {
                  "type": "number",
                  "example": 270
                },
                "distanceType": {
                  "type": "string",
                  "example": "Miles"
                }
              }
            },
            "EventCoordinates": {
              "required": [
                "coordinates"
              ],
              "properties": {
                "coordinates": {
                  "type": "array",
                  "example":[
                    74.90076445938857,31.633677821490206
                  ],
                  "items": {
                    "type": "integer",
                    "format": "double",
                    "//comment":  "The first parameter here is longitude and second parameter is latitude."
                  }
                  
                },
                "distance": {
                  "type": "number",
                  "example": 270
                },
                "distanceType": {
                  "type": "string",
                  "example": "Miles"
                }
              }
            },
            "Masjid Ids": {
              "required": [
                "masjidIds"
              ],
              "properties": {
                "masjidIds": {
                  "type": "array",
                  "example":[
                    "6310bd9613877d3b6f6490e3",
                    "634022b33e54e998540e06b0"
                  ],
                  "items": {
                    "type": "string",
                    "//comment":  "The parameters are masjid Ids."
                  }
                  
                }
              }
            },
            "Area Coordinates": {
              "required": [
                "coordinates"
              ],
              "properties": {
                "coordinates": {
                  "type": "array",
                  "example":[
                    -97.13392071108218,32.95635810891399
                  ],
                  "items": {
                    "type": "integer",
                    "format": "double",
                    "//comment":  "The first parameter here is longitude and second parameter is latitude."
                  }
                }
              }
            },
            "Events": {
                "required": [
                    "eventName",
                    "masjidId",
                    "masjidName",
                    "description",
                    "eventProfilePhoto",
                    "eventPhotos",
                    "timings",
                    "guest",
                    "id",
                    "location",
                    "address"
                ],
                "properties": {
                    "eventName": {
                        "type": "string",
                        "minimum": 5,
                        "maximum": 40,
                        "example": "Iftari"
                    },
                    "masjidName": {
                        "type": "string",
                        "example": "Jumma Masjid",
                        "//comment":  "The masjid Name can  be empty string also."
                    },
                    "id": {
                        "type": "string",
                        "example": "6310bd9613877d3b6f6490e3"
                    },
                    "description": {
                        "type": "string",
                        "example": "There will be iftari for all Rozadar's today.",
                        "//comment":  "The description can  be empty string also."
                    },
                    "masjidId": {
                        "type": "string"
                    },
                    "eventProfilePhoto": {
                        "type": "string",
                        "format": "url",
                        "example": "https://smile-app.s3.ap-south-1.amazonaws.com/image-1643616353651.jpeg",
                        "//comment":  "The eventProfilePhoto can  be empty array also."
                    },
                    "eventPhotos": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "format": "url",
                            "example": "https://smile-app.s3.ap-south-1.amazonaws.com/image-1643616353651.jpeg",
                            "//comment":  "The eventPhotos can  be empty string also."
                        }
                    },
                    "timings": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "date": {
                                    "type": "string",
                                    "example": "2022-09-16T00:00:00.000Z"
                                },
                                "startTime": {
                                    "type": "integer",
                                    "format": "int64",
                                    "example": 1649671039
                                },
                                "endTime": {
                                    "type": "integer",
                                    "format": "int64",
                                    "example": 1649671039
                                }
                            }
                        },
                        "//comment":  "The timings can be empty array."
                    },
                    "guests": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "guestName": {
                                    "type": "string",
                                    "example": "Maulana"
                                },
                                "guestDesc": {
                                    "type": "string",
                                    "example": "great maulana"
                                },
                                "_id": {
                                    "type": "string",
                                    "example": "63249649a039af62f4c2f178"
                                }
                            }
                        },
                       "//comment":  "The guests can  be empty array also."
                    },
                    "address": {
                        "type": "string",
                        "example": "Maulana Azad Rd, Madanpura, Mumbai, Maharashtra"
                    },
                    "location": {
                        "type": "object",
                        "properties": {
                            "type": {
                                "type": "string",
                                "default": "Point"
                            },
                            "coordinates": {
                                "type": "array",
                                "items": {
                                    "type": "integer",
                                    "format": "double",
                                    "example": "72.83336,18.95938",
                                    "//comment":  "The location can  be empty array also."
                                }
                            }
                        }
                    }
                }
            },
               "Timings": {
                    "required": [
                        "date",
                        "timings",
                        "id",
                        "last Editor"
                    ],
                    "type": "object",
                    "properties": {
                        "date": {
                            "type": "string",
                            "example": "2022-04-22T00:00:00.000Z"
                        },
                        "lastEditor": {
                            "type": "string",
                            "example": "Rehaan Redkar",
                            "//comment":  "The last Editor can  be empty string also."
                        },
                        "timings": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "namazName": {
                                        "type": "string",
                                        "example": "Fajr"
                                    },
                                    "jamaatTime": {
                                        "type": "integer",
                                        "format": "int64",
                                        "example": 1649671039
                                    },
                                    "azaanTime": {
                                        "type": "integer",
                                        "format": "int64",
                                        "example": 1649671039
                                    }
                                }
                            }  ,
                            "//comment":  "The timings can  be empty array also."
                        }
                    }
                },
                "ip": {
                  "required": [
                      "ip"
                  ],
                  "type": "object",
                  "properties": {
                      "ip": {
                          "type": "string",
                          "example": "110.225.19.157"
                       }
                    }
                },
                "location": {
                  "required": [
                      "city",
                      "latitude",
                      "longitude"
                  ],
                  "type": "object",
                  "properties": {
                      "city": {
                          "type": "string",
                          "example": "Kolkata"
                       },
                       "latitude":{
                        "type":"number",
                        "example":22.5626
                       },
                       "longitude":{
                        "type":"number",
                        "example":88.363
                       }
                    }
                }
    },
    "paths":{
        "/v1/masjid/getMasjid/{masjidName}": {
            "get": {
              "tags": [
                "Masjid"
              ],
              "description": "Get Masjid By Masjid Name",
              "parameters": [
                {
                  "name": "masjidName",
                  "in": "path",
                  "description": "Masjid Name which you are looking for",
                  "schema": {
                    "type": "String"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Masjid which are found",
                  "schema": {
                    "$ref": "#/definitions/Masjid"
                  }
                }
              }
            } 
          },
          "/v1/masjid/getAllMasjid": {
            "get": {
              "tags": [
                "Masjid"
              ],
              "description": "Get All Masjid From The Database",
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Masjid which are found",
                  "schema": {
                    "$ref": "#/definitions/Masjid"
                  }
                }
              }
            } 
          },
          "/v1/masjid/getNearMasjids": {
            "post": {
              "tags": [
                "Masjid"
              ],
              "description": "Get Masjid By Masjid coordinates",
              "parameters": [
                {
                   "name": "coordinates",
                   "in": "body",
                   "description": "Coordinates of the masjid",
                    "schema": {
                      "$ref": "#/definitions/Coordinates"
                   }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "New Masjid is created",
                  "schema": {
                    "$ref": "#/definitions/Masjid"
                  }
                }
              }
            } 
          },
          "/v1/masjid/getAreaMasjids": {
            "post": {
              "tags": [
                "Masjid"
              ],
              "description": "Getting the area masjid",
              "parameters": [
                {
                   "name": "coordinates",
                   "in": "body",
                   "description": "Coordinates of the masjid",
                    "schema": {
                      "$ref": "#/definitions/Area Coordinates"
                   }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "masjid around me",
                  "schema": {
                    "$ref": "#/definitions/Masjid"
                  }
                }
              }
            } 
          },
          "/v1/masjid/getMasjidByAreaSearch/{areaName}": {
            "get": {
              "tags": [
                "Masjid"
              ],
              "description": "Get Masjid By area name",
              "parameters": [
                {
                  "name": "areaName",
                  "in": "path",
                  "description": "Area name in which you are looking for masjid",
                  "schema": {
                    "type": "String"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Masjid in the area",
                  "schema": {
                    "$ref": "#/definitions/Masjid"
                  }
                }
              }
            } 
          },
          "/v1/masjid/getMasjidById/{id}": {
            "get": {
              "tags": [
                "Masjid"
              ],
              "description": "Get Masjid By Masjid Name",
              "parameters": [
                {
                  "name": "id",
                  "in": "path",
                  "description": "Masjid Name which you are looking for",
                  "schema": {
                    "type": "String",
                    "example":"6310bd9613877d3b6f6490e3"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Masjid which are found",
                  "schema": {
                    "$ref": "#/definitions/Masjid"
                  }
                }
              }
            } 
          },"/v1/events/getEventsByMasjid": {
            "post": {
              "tags": [
                "Events"
              ],
              "description": "Getting the events by masjid Id",
              "parameters": [
                {
                  "name": "MasjidIds",
                  "in": "body",
                  "description": "Ids of the masjid which events are expected",
                  "schema": {
                    "$ref": "#/definitions/Masjid Ids"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "masjid around me",
                  "schema": {
                    "$ref": "#/definitions/Events"
                  }
                }
              }
            } 
          },"/v1/events/getNearByEvents": {
            "post": {
              "tags": [
                "Events"
              ],
              "description": "Get Events By Masjid coordinates",
              "parameters": [
                {
                  "name": "coordinates",
                  "in": "body",
                  "description": "Coordinates of the masjid",
                   "schema": {
                     "$ref": "#/definitions/EventCoordinates"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "New Masjid is created",
                  "schema": {
                    "$ref": "#/definitions/Events"
                  }
                }
              }
            } 
          },"/v1/events/getAllEvents": {
            "get": {
              "tags": [
                "Events"
              ],
              "description": "Get All the events",
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Getting all the events",
                  "schema": {
                    "$ref": "#/definitions/Events"
                  }
                }
              }
            } 
          },
          "/v1/events/getEventById/{id}": {
            "get": {
              "tags": [
                "Events"
              ],
              "description": "Get Events By Event Id",
              "parameters": [
                {
                  "name": "id",
                  "in": "path",
                  "description": "Event Id which you are looking for",
                  "schema": {
                    "type": "String",
                    "example":"63249649a039af62f4c2f177"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Event which are found",
                  "schema": {
                    "$ref": "#/definitions/Events"
                  }
                }
              }
            } 
          },
          "/v1/events/getEventsByMasjidId/{masjidId}": {
            "get": {
              "tags": [
                "Events"
              ],
              "description": "Get Events By Masjid Id",
              "parameters": [
                {
                  "name": "masjidId",
                  "in": "path",
                  "description": "Masjid Id which events you are looking for",
                  "schema": {
                    "type": "String",
                    "example":"6310bd9613877d3b6f6490e3"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Event which are found",
                  "schema": {
                    "$ref": "#/definitions/Events"
                  }
                }
              }
            } 
          },"/v1/timings/getTimingByMasjid/{masjidId}": {
            "get": {
              "tags": [
                "Timings"
              ],
              "description": "Get Timings By Masjid Id",
              "parameters": [
                {
                  "name": "masjidId",
                  "in": "path",
                  "description": "Masjid Id which timings you are looking for",
                  "schema": {
                    "type": "String",
                    "example":"6310bd9613877d3b6f6490e3"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Timing which are found",
                  "schema": {
                    "$ref": "#/definitions/Timings"
                  }
                }
              }
            } 
          },"/v1/timings/getTimingById/{timingId}": {
            "get": {
              "tags": [
                "Timings"
              ],
              "description": "Get Timings By Timing Id",
              "parameters": [
                {
                  "name": "timingId",
                  "in": "path",
                  "description": "Timing Id which timings you are looking for",
                  "schema": {
                    "type": "String",
                    "example":"6343e862da330d073f9e5902"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Timing which are found",
                  "schema": {
                    "$ref": "#/definitions/Timings"
                  }
                }
              }
            } 
          },"/v1/timings/getTimingByDate/{masjidId}": {
            "get": {
              "tags": [
                "Timings"
              ],
              "description": "Get Timings By a certain date",
              "parameters": [
                {
                  "name": "date",
                  "in": "query",
                  "description": "Date on  which timings you are looking for",
                  "schema": {
                    "type": "date",
                    "example":"2022-10-01"
                  }
                },
                {
                  "name": "masjidId",
                  "in": "path",
                  "description": "Timing Id which timings you are looking for",
                  "schema": {
                    "type": "String",
                    "example":"6310bd9613877d3b6f6490e3"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Timing which are found",
                  "schema": {
                    "$ref": "#/definitions/Timings"
                  }
                }
              }
            } 
          },"/v1/timings/getTimingByStartRange/{masjidId}": {
            "get": {
              "tags": [
                "Timings"
              ],
              "description": "Get Timings from a certain date",
              "parameters": [
                {
                  "name": "startDate",
                  "in": "query",
                  "description": "Date from  which timings you are looking for",
                  "schema": {
                    "type": "date",
                    "example":"2022-10-01"
                  }
                },
                {
                  "name": "masjidId",
                  "in": "path",
                  "description": "Timing Id which timings you are looking for",
                  "schema": {
                    "type": "String",
                    "example":"6310bd9613877d3b6f6490e3"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Timing which are found",
                  "schema": {
                    "$ref": "#/definitions/Timings"
                  }
                }
              }
            } 
          },
          "/v1/timings/getTimingByDateRange/{masjidId}": {
            "get": {
              "tags": [
                "Timings"
              ],
              "description": "Get Timings from a certain date",
              "parameters": [
                {
                  "name": "startDate",
                  "in": "query",
                  "description": "Date from  which timings you are looking for",
                  "schema": {
                    "type": "date",
                    "example":"2022-10-01"
                  }
                },
                {
                  "name": "endDate",
                  "in": "query",
                  "description": "Date till  which timings you are looking for",
                  "schema": {
                    "type": "date",
                    "example":"2022-10-10"
                  }
                },
                {
                  "name": "masjidId",
                  "in": "path",
                  "description": "Timing Id which timings you are looking for",
                  "schema": {
                    "type": "String",
                    "example":"6310bd9613877d3b6f6490e3"
                  }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Timing which are found",
                  "schema": {
                    "$ref": "#/definitions/Timings"
                  }
                }
              }
            } 
          },
          "/v1/auth/getLocationDetailsFromIp": {
            "post": {
              "tags": [
                "Location"
              ],
              "description": "Get location Details from the Ip ",
              "parameters": [
                {
                   "name": "ip",
                   "in": "body",
                   "description": "Ip of the user",
                    "schema": {
                      "$ref": "#/definitions/ip"
                   }
                }
              ],
              "produces": [
                "application/json"
              ],
              "responses": {
                "200": {
                  "description": "Location Details of the User",
                  "schema": {
                    "$ref": "#/definitions/location"
                  }
                }
              }
            } 
          }
    } 
  }